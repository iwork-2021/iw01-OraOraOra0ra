# iOS计算器

191220102   孙文戈

------



## 基本配置

**开发环境**：macOS 11.6

**开发工具**：Xcode 13

**模拟环境**：iphone13 pro max





## 成果展示

### 竖屏

https://github.com/iwork-2021/iw01-OraOraOra0ra/blob/main/MyCalculator/picture/%E7%AB%96%E5%B1%8F.png



### 横屏

https://github.com/iwork-2021/iw01-OraOraOra0ra/blob/main/MyCalculator/picture/%E6%A8%AA%E5%B1%8F.png



### 视频演示

[Xcode制作仿原生iOS计算器成果展示_哔哩哔哩_bilibili](https://www.bilibili.com/video/BV1hf4y177Fy/)





## mvc架构

​	本次作业采用了mvc架构，计算器界面都在一个主view中实现，通过viewcontroller实现对于按键的绑定设计，运用action与outlet完成按键点击与内容修改的功能，model（calculator）实现计算器的主要逻辑实现。

​	通过本次作业的开发体验，让我切实体会到了mvc架构的如下优点：

- 耦合性低，三个模块相互独立
- 控制器提高了程序的灵活性与可控制性
- 重用性高，往后完全可以用本次实现的视图与控制器，重写逻辑代码，采用更优化的数据结构完善功能
- 可维护性高，视图与逻辑代码的分离使得应用更加易于维护和修改





## 功能实现

- 功能按键，如AC，2nd，Rad/Deg等
- 单目运算符
- 双目运算符
- 数字和小数点





## 问题与思考

​	本次作业是我第一次做可交互的可视化程序设计，一开始便觉得非常新鲜并感到很有挑战度。在开始作业前首先通过课程视频初步认识autolayout技术，然后通过示例视频很快的完成了计算器竖屏界面设计与基础逻辑代码的实现。

​	而接下来就是我备受折磨的开发流程：由于国庆期间贪玩并且没有好好看课件、畏惧阅读英文而没有查看文档，直到国庆即将结束才了解到sizieClass，即才知道如何进行横屏的切换。而不知何种原因，利用在横屏状态下very for traits/done traits实现的横竖屏切换在预览中很顺利，打开模拟器再切换横屏时缺发生按钮堆叠不显示等问题。起初我以为或许是虚拟机或者xcode版本的问题，然后等到机房使用iMac后问题同样存在，同时发现其他与我用同样方式实现的同学也有这种问题，在反复试验失败后通过求助曹老师才最终解决这个问题。

​	另外，由于对mvc的掌握不到位，不知道如何进一步用代码实现对按钮的修改，同时对于不去查看文档的懒惰，导致每次需要修改按钮的颜色、字体大小、圆角值等参数时要一个一个手调，效率十分低下，耽误了大量宝贵的时间，下次作业必须改正！

​	以及由于是复用实例的逻辑代码，没有实现栈的结构，导致计算器功能的残缺，无法实现多项式运算，同时缓存功能也难以实现，是很遗憾的事了。

​	但最后完成基础功能的实现，点击2nd时按钮的变换，Rad/Deg对于弧度与度数的切换，看到这些成果时真的很有成就感。希望能够继续加油，总结这次作业的经验教训，认真上课好好看课件，并且努力养成查阅文档的习惯。

​	iOS课真有意思！